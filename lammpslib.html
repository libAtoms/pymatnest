<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>lammpslib module &#8212; ns_doc 1 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/classic.css?v=1476913b" />
    
    <script src="_static/documentation_options.js?v=29a6c3e3"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="stacktrace module" href="stacktrace.html" />
    <link rel="prev" title="rngstream module" href="rngstream.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="stacktrace.html" title="stacktrace module"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="rngstream.html" title="rngstream module"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">ns_doc 1 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><cite>lammpslib</cite> module</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="module-lammpslib">
<span id="lammpslib-module"></span><h1><cite>lammpslib</cite> module<a class="headerlink" href="#module-lammpslib" title="Link to this heading">¶</a></h1>
<p>ASE LAMMPS Calculator Library Version</p>
<dl class="py class">
<dt class="sig sig-object py" id="lammpslib.LAMMPSlib">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">lammpslib.</span></span><span class="sig-name descname"><span class="pre">LAMMPSlib</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">restart=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_bad_restart_file=&lt;object</span> <span class="pre">object&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">atoms=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">directory='.'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lammpslib.html#LAMMPSlib"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lammpslib.LAMMPSlib" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Calculator</span></code></p>
<blockquote>
<div><p>LAMMPSlib Interface Documentation</p>
</div></blockquote>
<p><strong>Introduction</strong></p>
<p>LAMMPSlib is an interface and calculator for <a class="reference external" href="http://lammps.sandia.gov/">LAMMPS</a>. LAMMPSlib uses
the python interface that comes with LAMMPS to solve an atoms model
for energy, atom forces and cell stress. This calculator creates a
‘.lmp’ object which is a running lammps program, so further commands
can be sent to this object executed until it is explicitly closed. Any
additional variables calculated by lammps can also be extracted. This
is still experimental code.</p>
<p><strong>Arguments</strong></p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Keyword</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">lmpcmds</span></code></p></td>
<td><p>list of strings of LAMMPS commands. You need to supply
enough to define the potential to be used e.g.</p>
<dl class="simple">
<dt>[“pair_style eam/alloy”,</dt><dd><p>“pair_coeff * * potentials/NiAlH_jea.eam.alloy Ni Al”]</p>
</dd>
</dl>
</td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">atom_types</span></code></p></td>
<td><p>dictionary of “atomic_symbol”:lammps_atom_type pairs,
e.g. {‘Cu’:1} to bind copper to lammps atom type 1.
Default method assigns lammps atom types in order that they
appear in the atoms model. Mandatory.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">log_file</span></code></p></td>
<td><p>string
path to the desired LAMMPS log file</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">lammps_header</span></code></p></td>
<td><p>string to use for lammps setup. Default is to use
metal units and simple atom simulation.</p>
<dl class="simple">
<dt>lammps_header=[‘units metal’,</dt><dd><p>‘atom_style atomic’,
‘atom_modify map array sort 0 0’])</p>
</dd>
</dl>
</td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">keep_alive</span></code></p></td>
<td><p>Boolean
whether to keep the lammps routine alive for more commands</p></td>
</tr>
</tbody>
</table>
<p><strong>Requirements</strong></p>
<p>To run this calculator you must have LAMMPS installed and compiled to
enable the python interface. See the LAMMPS manual.</p>
<p>If the following code runs then lammps is installed correctly.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">lammps</span> <span class="kn">import</span> <span class="n">lammps</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lmp</span> <span class="o">=</span> <span class="n">lammps</span><span class="p">()</span>
</pre></div>
</div>
<p>The version of LAMMPS is also important. LAMMPSlib is suitable for
versions after approximately 2011. Prior to this the python interface
is slightly different from that used by LAMMPSlib. It is not difficult
to change to the earlier format.</p>
<p><strong>LAMMPS and LAMMPSlib</strong></p>
<p>The LAMMPS calculator is another calculator that uses LAMMPS (the
program) to calculate the energy by generating input files and running
a separate LAMMPS job to perform the analysis. The output data is then
read back into python. LAMMPSlib makes direct use of the LAMMPS (the
program) python interface. As well as directly running any LAMMPS
comand line it allows the values of any of LAMMPS variables to be
extracted and returned to python.</p>
<p><strong>Example</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">ase</span> <span class="kn">import</span> <span class="n">Atom</span><span class="p">,</span> <span class="n">Atoms</span>
<span class="kn">from</span> <span class="nn">lammpslib</span> <span class="kn">import</span> <span class="n">LAMMPSlib</span>

<span class="n">cmds</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;pair_style eam/alloy&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pair_coeff * * NiAlH_jea.eam.alloy Al H&quot;</span><span class="p">]</span>

<span class="n">a</span> <span class="o">=</span> <span class="mf">4.05</span>
<span class="n">al</span> <span class="o">=</span> <span class="n">Atoms</span><span class="p">([</span><span class="n">Atom</span><span class="p">(</span><span class="s1">&#39;Al&#39;</span><span class="p">)],</span> <span class="n">cell</span><span class="o">=</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">a</span><span class="p">),</span> <span class="n">pbc</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">h</span> <span class="o">=</span> <span class="n">Atom</span><span class="p">([</span><span class="n">Atom</span><span class="p">(</span><span class="s1">&#39;H&#39;</span><span class="p">)])</span>
<span class="n">alh</span> <span class="o">=</span> <span class="n">al</span> <span class="o">+</span> <span class="n">h</span>

<span class="n">lammps</span> <span class="o">=</span> <span class="n">LAMMPSlib</span><span class="p">(</span><span class="n">lmpcmds</span> <span class="o">=</span> <span class="n">cmds</span><span class="p">,</span> <span class="n">logfile</span><span class="o">=</span><span class="s1">&#39;test.log&#39;</span><span class="p">)</span>

<span class="n">alh</span><span class="o">.</span><span class="n">set_calculator</span><span class="p">(</span><span class="n">lammps</span><span class="p">)</span>
<span class="nb">print</span> <span class="s2">&quot;Energy &quot;</span><span class="p">,</span> <span class="n">alh</span><span class="o">.</span><span class="n">get_potential_energy</span><span class="p">()</span>
</pre></div>
</div>
<p><strong>Implementation</strong></p>
<p>LAMMPS provides a set of python functions to allow execution of the
underlying C++ LAMMPS code. The functions used by the LAMMPSlib
interface are:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">lammps</span> <span class="kn">import</span> <span class="n">lammps</span>

<span class="n">lmp</span> <span class="o">=</span> <span class="n">lammps</span><span class="p">(</span><span class="n">cmd_args</span><span class="p">)</span> <span class="c1"># initiate LAMMPS object with command line args</span>

<span class="n">lmp</span><span class="o">.</span><span class="n">scatter_atoms</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="n">positions</span><span class="p">)</span> <span class="c1"># atom coords to LAMMPS C array</span>
<span class="n">lmp</span><span class="o">.</span><span class="n">command</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span> <span class="c1"># executes a one line cmd string</span>
<span class="n">lmp</span><span class="o">.</span><span class="n">extract_variable</span><span class="p">(</span><span class="o">...</span><span class="p">)</span> <span class="c1"># extracts a per atom variable</span>
<span class="n">lmp</span><span class="o">.</span><span class="n">extract_global</span><span class="p">(</span><span class="o">...</span><span class="p">)</span> <span class="c1"># extracts a global variable</span>
<span class="n">lmp</span><span class="o">.</span><span class="n">close</span><span class="p">()</span> <span class="c1"># close the lammps object</span>
</pre></div>
</div>
<p>For a single atom model the following lammps file commands would be run
by invoking the get_potential_energy() method:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">units</span> <span class="n">metal</span>
<span class="n">atom_style</span> <span class="n">atomic</span>
<span class="n">atom_modify</span> <span class="nb">map</span> <span class="n">array</span> <span class="n">sort</span> <span class="mi">0</span> <span class="mi">0</span>

<span class="n">region</span> <span class="n">cell</span> <span class="n">prism</span> <span class="mi">0</span> <span class="n">xhi</span> <span class="mi">0</span> <span class="n">yhi</span> <span class="mi">0</span> <span class="n">zhi</span> <span class="n">xy</span> <span class="n">xz</span> <span class="n">yz</span> <span class="n">units</span> <span class="n">box</span>
<span class="n">create_box</span> <span class="mi">1</span> <span class="n">cell</span>
<span class="n">create_atoms</span> <span class="mi">1</span> <span class="n">single</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span> <span class="n">units</span> <span class="n">box</span>
<span class="n">mass</span> <span class="o">*</span> <span class="mf">1.0</span>

<span class="c1">## user lmpcmds get executed here</span>
<span class="n">pair_style</span> <span class="n">eam</span><span class="o">/</span><span class="n">alloy</span>
<span class="n">pair_coeff</span> <span class="o">*</span> <span class="o">*</span> <span class="n">lammps</span><span class="o">/</span><span class="n">potentials</span><span class="o">/</span><span class="n">NiAlH_jea</span><span class="o">.</span><span class="n">eam</span><span class="o">.</span><span class="n">alloy</span> <span class="n">Al</span>
<span class="c1">## end of user lmmpcmds</span>

<span class="n">run</span> <span class="mi">0</span>
</pre></div>
</div>
<p><strong>Notes</strong></p>
<ul class="simple">
<li><p>Units: The default lammps_header sets the units to Angstrom and eV
and for compatibility with ASE Stress is in GPa.</p></li>
<li><p>The global energy is currently extracted from LAMMPS using
extract_variable since lammps.lammps currently extract_global only
accepts the following [‘dt’, ‘boxxlo’, ‘boxxhi’, ‘boxylo’, ‘boxyhi’,
‘boxzlo’, ‘boxzhi’, ‘natoms’, ‘nlocal’].</p></li>
<li><p>If an error occurs while lammps is in control it will crash
Python. Check the output of the log file to find the lammps error.</p></li>
<li><p>If the are commands direfctly sent to the LAMMPS object this may
change the energy value of the model. However the calculator will not
know of it and still return the original energy value.</p></li>
</ul>
<p>End LAMMPSlib Interface Documentation</p>
<dl class="py method">
<dt class="sig sig-object py" id="lammpslib.LAMMPSlib.calculate">
<span class="sig-name descname"><span class="pre">calculate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">atoms</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">properties</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">system_changes</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lammpslib.html#LAMMPSlib.calculate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lammpslib.LAMMPSlib.calculate" title="Link to this definition">¶</a></dt>
<dd><p>Do the calculation.</p>
<dl class="simple">
<dt>properties: list of str</dt><dd><p>List of what needs to be calculated.  Can be any combination
of ‘energy’, ‘forces’, ‘stress’, ‘dipole’, ‘charges’, ‘magmom’
and ‘magmoms’.</p>
</dd>
<dt>system_changes: list of str</dt><dd><p>List of what has changed since last calculation.  Can be
any combination of these six: ‘positions’, ‘numbers’, ‘cell’,
‘pbc’, ‘initial_charges’ and ‘initial_magmoms’.</p>
</dd>
</dl>
<p>Subclasses need to implement this, but can ignore properties
and system_changes if they want.  Calculated properties should
be inserted into results dictionary like shown in this dummy
example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="bp">self</span><span class="o">.</span><span class="n">results</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;energy&#39;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
                <span class="s1">&#39;forces&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="nb">len</span><span class="p">(</span><span class="n">atoms</span><span class="p">),</span> <span class="mi">3</span><span class="p">)),</span>
                <span class="s1">&#39;stress&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="mi">6</span><span class="p">),</span>
                <span class="s1">&#39;dipole&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span>
                <span class="s1">&#39;charges&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">atoms</span><span class="p">)),</span>
                <span class="s1">&#39;magmom&#39;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
                <span class="s1">&#39;magmoms&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">atoms</span><span class="p">))}</span>
</pre></div>
</div>
<p>The subclass implementation should first call this
implementation to set the atoms attribute and create any missing
directories.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="lammpslib.LAMMPSlib.default_parameters">
<span class="sig-name descname"><span class="pre">default_parameters</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'atom_types':</span> <span class="pre">None,</span> <span class="pre">'boundary':</span> <span class="pre">True,</span> <span class="pre">'comm':</span> <span class="pre">None,</span> <span class="pre">'create_atoms':</span> <span class="pre">True,</span> <span class="pre">'create_box':</span> <span class="pre">True,</span> <span class="pre">'keep_alive':</span> <span class="pre">False,</span> <span class="pre">'lammps_header':</span> <span class="pre">['units</span> <span class="pre">metal',</span> <span class="pre">'atom_style</span> <span class="pre">atomic',</span> <span class="pre">'atom_modify</span> <span class="pre">map</span> <span class="pre">array</span> <span class="pre">sort</span> <span class="pre">0</span> <span class="pre">0'],</span> <span class="pre">'lammps_name':</span> <span class="pre">'',</span> <span class="pre">'log_file':</span> <span class="pre">None,</span> <span class="pre">'read_molecular_info':</span> <span class="pre">False}</span></em><a class="headerlink" href="#lammpslib.LAMMPSlib.default_parameters" title="Link to this definition">¶</a></dt>
<dd><p>Default parameters</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="lammpslib.LAMMPSlib.implemented_properties">
<span class="sig-name descname"><span class="pre">implemented_properties</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">['energy',</span> <span class="pre">'forces',</span> <span class="pre">'stress']</span></em><a class="headerlink" href="#lammpslib.LAMMPSlib.implemented_properties" title="Link to this definition">¶</a></dt>
<dd><p>Properties calculator can handle (energy, forces, …)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="lammpslib.LAMMPSlib.initialise_lammps">
<span class="sig-name descname"><span class="pre">initialise_lammps</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">atoms</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lammpslib.html#LAMMPSlib.initialise_lammps"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lammpslib.LAMMPSlib.initialise_lammps" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="lammpslib.LAMMPSlib.initialized">
<span class="sig-name descname"><span class="pre">initialized</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#lammpslib.LAMMPSlib.initialized" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="lammpslib.LAMMPSlib.lammpsbc">
<span class="sig-name descname"><span class="pre">lammpsbc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pbc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fix</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lammpslib.html#LAMMPSlib.lammpsbc"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lammpslib.LAMMPSlib.lammpsbc" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="lammpslib.LAMMPSlib.parse_angles">
<span class="sig-name descname"><span class="pre">parse_angles</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">atoms</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lammpslib.html#LAMMPSlib.parse_angles"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lammpslib.LAMMPSlib.parse_angles" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="lammpslib.LAMMPSlib.parse_bonds">
<span class="sig-name descname"><span class="pre">parse_bonds</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">atoms</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lammpslib.html#LAMMPSlib.parse_bonds"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lammpslib.LAMMPSlib.parse_bonds" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="lammpslib.LAMMPSlib.parse_dihedrals">
<span class="sig-name descname"><span class="pre">parse_dihedrals</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">atoms</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lammpslib.html#LAMMPSlib.parse_dihedrals"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lammpslib.LAMMPSlib.parse_dihedrals" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="lammpslib.LAMMPSlib.parse_impropers">
<span class="sig-name descname"><span class="pre">parse_impropers</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">atoms</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lammpslib.html#LAMMPSlib.parse_impropers"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lammpslib.LAMMPSlib.parse_impropers" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="lammpslib.LAMMPSlib.propagate">
<span class="sig-name descname"><span class="pre">propagate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">atoms</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">properties</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">system_changes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_steps</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dt_not_real_time</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">velocity_field</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lammpslib.html#LAMMPSlib.propagate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lammpslib.LAMMPSlib.propagate" title="Link to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>“atoms: Atoms object</dt><dd><p>Contains positions, unit-cell, …</p>
</dd>
<dt>properties: list of str</dt><dd><p>List of what needs to be calculated.  Can be any combination
of ‘energy’, ‘forces’, ‘stress’, ‘dipole’, ‘charges’, ‘magmom’
and ‘magmoms’.</p>
</dd>
<dt>system_changes: list of str</dt><dd><p>List of what has changed since last calculation.  Can be
any combination of these five: ‘positions’, ‘numbers’, ‘cell’,
‘pbc’, ‘charges’ and ‘magmoms’.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="lammpslib.LAMMPSlib.rebuild">
<span class="sig-name descname"><span class="pre">rebuild</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">atoms</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lammpslib.html#LAMMPSlib.rebuild"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lammpslib.LAMMPSlib.rebuild" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="lammpslib.LAMMPSlib.redo_atom_types">
<span class="sig-name descname"><span class="pre">redo_atom_types</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">atoms</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lammpslib.html#LAMMPSlib.redo_atom_types"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lammpslib.LAMMPSlib.redo_atom_types" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="lammpslib.LAMMPSlib.restart_lammps">
<span class="sig-name descname"><span class="pre">restart_lammps</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">atoms</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lammpslib.html#LAMMPSlib.restart_lammps"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lammpslib.LAMMPSlib.restart_lammps" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="lammpslib.LAMMPSlib.set_angles">
<span class="sig-name descname"><span class="pre">set_angles</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">atoms</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lammpslib.html#LAMMPSlib.set_angles"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lammpslib.LAMMPSlib.set_angles" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="lammpslib.LAMMPSlib.set_bonds">
<span class="sig-name descname"><span class="pre">set_bonds</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">atoms</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lammpslib.html#LAMMPSlib.set_bonds"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lammpslib.LAMMPSlib.set_bonds" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="lammpslib.LAMMPSlib.set_cell">
<span class="sig-name descname"><span class="pre">set_cell</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">atoms</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">change</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lammpslib.html#LAMMPSlib.set_cell"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lammpslib.LAMMPSlib.set_cell" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="lammpslib.LAMMPSlib.set_charges">
<span class="sig-name descname"><span class="pre">set_charges</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">atoms</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lammpslib.html#LAMMPSlib.set_charges"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lammpslib.LAMMPSlib.set_charges" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="lammpslib.LAMMPSlib.set_dihedrals">
<span class="sig-name descname"><span class="pre">set_dihedrals</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">atoms</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lammpslib.html#LAMMPSlib.set_dihedrals"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lammpslib.LAMMPSlib.set_dihedrals" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="lammpslib.LAMMPSlib.set_impropers">
<span class="sig-name descname"><span class="pre">set_impropers</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">atoms</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lammpslib.html#LAMMPSlib.set_impropers"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lammpslib.LAMMPSlib.set_impropers" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="lammpslib.LAMMPSlib.set_lammps_pos">
<span class="sig-name descname"><span class="pre">set_lammps_pos</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">atoms</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lammpslib.html#LAMMPSlib.set_lammps_pos"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lammpslib.LAMMPSlib.set_lammps_pos" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="lammpslib.LAMMPSlib.start_lammps">
<span class="sig-name descname"><span class="pre">start_lammps</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/lammpslib.html#LAMMPSlib.start_lammps"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lammpslib.LAMMPSlib.start_lammps" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="lammpslib.LAMMPSlib.started">
<span class="sig-name descname"><span class="pre">started</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#lammpslib.LAMMPSlib.started" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lammpslib.convert_cell">
<span class="sig-prename descclassname"><span class="pre">lammpslib.</span></span><span class="sig-name descname"><span class="pre">convert_cell</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ase_cell</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lammpslib.html#convert_cell"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lammpslib.convert_cell" title="Link to this definition">¶</a></dt>
<dd><p>Convert a parallel piped (forming right hand basis)
to lower triangular matrix LAMMPS can accept. This
function transposes cell matrix so the bases are column vectors</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lammpslib.is_upper_triangular">
<span class="sig-prename descclassname"><span class="pre">lammpslib.</span></span><span class="sig-name descname"><span class="pre">is_upper_triangular</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mat</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lammpslib.html#is_upper_triangular"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lammpslib.is_upper_triangular" title="Link to this definition">¶</a></dt>
<dd><p>test if 3x3 matrix is upper triangular</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lammpslib.unit_convert">
<span class="sig-prename descclassname"><span class="pre">lammpslib.</span></span><span class="sig-name descname"><span class="pre">unit_convert</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">quantity</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">units</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'metal'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lammpslib.html#unit_convert"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lammpslib.unit_convert" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="lammpslib.write_lammps_data">
<span class="sig-prename descclassname"><span class="pre">lammpslib.</span></span><span class="sig-name descname"><span class="pre">write_lammps_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">atoms</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">atom_types</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">comment</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cutoff</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">molecule_ids</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">charges</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">units</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'metal'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bond_types</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">angle_types</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dihedral_types</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">improper_types</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lammpslib.html#write_lammps_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#lammpslib.write_lammps_data" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="index.html">Table of Contents</a></h3>
    <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Nested sampling method</a></li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation and quick start guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="getstart.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="ns_run.html"><cite>pymatnest</cite> module</a></li>
<li class="toctree-l1"><a class="reference internal" href="ns_rng.html"><cite>ns_rng</cite> module</a></li>
<li class="toctree-l1"><a class="reference internal" href="rngstream.html"><cite>rngstream</cite> module</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#"><cite>lammpslib</cite> module</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#lammpslib.LAMMPSlib"><code class="docutils literal notranslate"><span class="pre">LAMMPSlib</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#lammpslib.LAMMPSlib.calculate"><code class="docutils literal notranslate"><span class="pre">LAMMPSlib.calculate()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#lammpslib.LAMMPSlib.default_parameters"><code class="docutils literal notranslate"><span class="pre">LAMMPSlib.default_parameters</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#lammpslib.LAMMPSlib.implemented_properties"><code class="docutils literal notranslate"><span class="pre">LAMMPSlib.implemented_properties</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#lammpslib.LAMMPSlib.initialise_lammps"><code class="docutils literal notranslate"><span class="pre">LAMMPSlib.initialise_lammps()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#lammpslib.LAMMPSlib.initialized"><code class="docutils literal notranslate"><span class="pre">LAMMPSlib.initialized</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#lammpslib.LAMMPSlib.lammpsbc"><code class="docutils literal notranslate"><span class="pre">LAMMPSlib.lammpsbc()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#lammpslib.LAMMPSlib.parse_angles"><code class="docutils literal notranslate"><span class="pre">LAMMPSlib.parse_angles()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#lammpslib.LAMMPSlib.parse_bonds"><code class="docutils literal notranslate"><span class="pre">LAMMPSlib.parse_bonds()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#lammpslib.LAMMPSlib.parse_dihedrals"><code class="docutils literal notranslate"><span class="pre">LAMMPSlib.parse_dihedrals()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#lammpslib.LAMMPSlib.parse_impropers"><code class="docutils literal notranslate"><span class="pre">LAMMPSlib.parse_impropers()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#lammpslib.LAMMPSlib.propagate"><code class="docutils literal notranslate"><span class="pre">LAMMPSlib.propagate()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#lammpslib.LAMMPSlib.rebuild"><code class="docutils literal notranslate"><span class="pre">LAMMPSlib.rebuild()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#lammpslib.LAMMPSlib.redo_atom_types"><code class="docutils literal notranslate"><span class="pre">LAMMPSlib.redo_atom_types()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#lammpslib.LAMMPSlib.restart_lammps"><code class="docutils literal notranslate"><span class="pre">LAMMPSlib.restart_lammps()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#lammpslib.LAMMPSlib.set_angles"><code class="docutils literal notranslate"><span class="pre">LAMMPSlib.set_angles()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#lammpslib.LAMMPSlib.set_bonds"><code class="docutils literal notranslate"><span class="pre">LAMMPSlib.set_bonds()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#lammpslib.LAMMPSlib.set_cell"><code class="docutils literal notranslate"><span class="pre">LAMMPSlib.set_cell()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#lammpslib.LAMMPSlib.set_charges"><code class="docutils literal notranslate"><span class="pre">LAMMPSlib.set_charges()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#lammpslib.LAMMPSlib.set_dihedrals"><code class="docutils literal notranslate"><span class="pre">LAMMPSlib.set_dihedrals()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#lammpslib.LAMMPSlib.set_impropers"><code class="docutils literal notranslate"><span class="pre">LAMMPSlib.set_impropers()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#lammpslib.LAMMPSlib.set_lammps_pos"><code class="docutils literal notranslate"><span class="pre">LAMMPSlib.set_lammps_pos()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#lammpslib.LAMMPSlib.start_lammps"><code class="docutils literal notranslate"><span class="pre">LAMMPSlib.start_lammps()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#lammpslib.LAMMPSlib.started"><code class="docutils literal notranslate"><span class="pre">LAMMPSlib.started</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#lammpslib.convert_cell"><code class="docutils literal notranslate"><span class="pre">convert_cell()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#lammpslib.is_upper_triangular"><code class="docutils literal notranslate"><span class="pre">is_upper_triangular()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#lammpslib.unit_convert"><code class="docutils literal notranslate"><span class="pre">unit_convert()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#lammpslib.write_lammps_data"><code class="docutils literal notranslate"><span class="pre">write_lammps_data()</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="stacktrace.html"><cite>stacktrace</cite> module</a></li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="rngstream.html"
                          title="previous chapter"><cite>rngstream</cite> module</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="stacktrace.html"
                          title="next chapter"><cite>stacktrace</cite> module</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/lammpslib.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="stacktrace.html" title="stacktrace module"
             >next</a> |</li>
        <li class="right" >
          <a href="rngstream.html" title="rngstream module"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">ns_doc 1 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><cite>lammpslib</cite> module</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright 2015, livia.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.3.7.
    </div>
  </body>
</html>