
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Getting started &#8212; ns_doc 1 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/classic.css" />
    
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Tutorials" href="tutorial.html" />
    <link rel="prev" title="Installation and quick start guide" href="install.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="tutorial.html" title="Tutorials"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="install.html" title="Installation and quick start guide"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">ns_doc 1 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Getting started</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="getting-started">
<h1>Getting started<a class="headerlink" href="#getting-started" title="Permalink to this heading">¶</a></h1>
<section id="list-of-input-parameters">
<h2>List of input parameters<a class="headerlink" href="#list-of-input-parameters" title="Permalink to this heading">¶</a></h2>
</section>
<section id="example-input-files">
<h2>Example input files<a class="headerlink" href="#example-input-files" title="Permalink to this heading">¶</a></h2>
<section id="lj-cluster-with-the-supplied-fortran-code-using-mc">
<h3>LJ Cluster with the supplied fortran code, using MC<a class="headerlink" href="#lj-cluster-with-the-supplied-fortran-code-using-mc" title="Permalink to this heading">¶</a></h3>
<p>This input file will start a calculation of 6 Lennard-Jones atoms
in a cubic cell with volume 648 Angstrom^3, using the potential implemented in the supplied fortran routine,
and using MC trajectory for generating a new sample configuration. As the shape
and volume of the cell will not be changed, a cluster will be formed by the atoms.
Note that the input parameters given below, such as the number of walkers and length of trajectory,
are for a short test run. For six atoms this calculation should take only a couple of minutes on one processor, and although
the calculation should end up in the global minimum octahedral cluster structure,
thermodynamic variables will not be necessarily well converged.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># starting volume (in this example it is Angstrom^3)</span>
<span class="n">max_volume_per_atom</span><span class="o">=</span><span class="mf">108.0</span>
<span class="c1"># 6 atoms with atomic number 1 and mass 1.0</span>
<span class="n">start_species</span><span class="o">=</span><span class="mi">1</span> <span class="mi">6</span> <span class="mf">1.0</span>
<span class="n">start_energy_ceiling_per_atom</span><span class="o">=</span><span class="mf">0.17e9</span>

<span class="c1"># size of live set</span>
<span class="n">n_walkers</span><span class="o">=</span><span class="mi">128</span>
<span class="c1"># at each iteration 1 walker is killed (n_cull=1 is strongly recommended)</span>
<span class="n">n_cull</span><span class="o">=</span><span class="mi">1</span>
<span class="c1"># total number of iterations will be n_iter_times_fraction_killed /(n_cull/n_walkers)</span>
<span class="n">n_iter_times_fraction_killed</span><span class="o">=</span><span class="mi">100</span>
<span class="c1"># prefix of all the output files</span>
<span class="n">out_file_prefix</span><span class="o">=</span><span class="n">test</span><span class="o">.</span><span class="n">cluster</span><span class="o">.</span><span class="n">MC</span><span class="o">.</span><span class="n">fortran</span>

<span class="c1"># use MC generating a new walker</span>
<span class="n">atom_algorithm</span><span class="o">=</span><span class="n">MC</span>
<span class="n">n_model_calls_expected</span><span class="o">=</span><span class="mi">3</span>      
<span class="n">n_atom_steps</span><span class="o">=</span><span class="mi">5</span>                
<span class="c1"># length of atomic trajectory in each step</span>
<span class="n">atom_traj_len</span><span class="o">=</span><span class="mi">5</span>               
<span class="c1"># number of cell volume steps (zero as the cell should not change for the cluster)</span>
<span class="n">n_cell_volume_steps</span><span class="o">=</span><span class="mi">0</span>         
<span class="c1"># number of cell shear steps (zero as the cell should not change for the cluster)</span>
<span class="n">n_cell_shear_steps</span><span class="o">=</span><span class="mi">0</span>          
<span class="c1"># number of cell strectch steps (zero as the cell should not change for the cluster)</span>
<span class="n">n_cell_stretch_steps</span><span class="o">=</span><span class="mi">0</span>        


<span class="n">FORTRAN_model</span><span class="o">=</span><span class="n">example_LJ_min_image_model</span><span class="o">.</span><span class="n">so</span>
<span class="c1"># use the supplied fortran code</span>
<span class="n">energy_calculator</span><span class="o">=</span><span class="n">fortran</span>

<span class="n">rng</span><span class="o">=</span><span class="n">numpy</span>

<span class="c1"># verbosity level</span>
<span class="n">debug</span><span class="o">=</span><span class="mi">0</span>
</pre></div>
</div>
</section>
<section id="lj-cluster-with-quip-using-md">
<h3>LJ Cluster with <code class="docutils literal notranslate"><span class="pre">QUIP</span></code>, using MD<a class="headerlink" href="#lj-cluster-with-quip-using-md" title="Permalink to this heading">¶</a></h3>
<p>This input file will start a calculation of 6 Lennard-Jones atoms
in a cubic cell with volume 648 Angstrom^3, using the potential implemented in <code class="docutils literal notranslate"><span class="pre">QUIP</span></code>
and using MD trajectory for generating a new sample configuration. As the shape
and volume of the cell will not be changed, a cluster will be formed by the atoms.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># starting volume (in this example it is Angstrom^3)</span>
<span class="n">max_volume_per_atom</span><span class="o">=</span><span class="mf">108.0</span>     
<span class="c1"># 6 atoms with atomic number 1, let mass default to 1.0</span>
<span class="n">start_species</span><span class="o">=</span><span class="mi">1</span> <span class="mi">6</span>
<span class="n">start_energy_ceiling_per_atom</span><span class="o">=</span><span class="mf">6.7</span>

<span class="c1"># size of live set</span>
<span class="n">n_walkers</span><span class="o">=</span><span class="mi">256</span>                 
<span class="c1"># at each iteration 1 walker is killed</span>
<span class="n">n_cull</span><span class="o">=</span><span class="mi">1</span>                      
<span class="c1"># total number of iterations will be n_iter_times_fraction_killed / (n_cull/n_walkers)</span>
<span class="n">n_iter_times_fraction_killed</span><span class="o">=</span><span class="mi">150</span>         
<span class="c1"># prefix of all the output files</span>
<span class="n">out_file_prefix</span><span class="o">=</span><span class="n">test</span><span class="o">.</span><span class="n">cluster</span><span class="o">.</span><span class="n">MD</span><span class="o">.</span><span class="n">quip</span>   

<span class="c1"># use MD generating a new walker</span>
<span class="n">atom_algorithm</span><span class="o">=</span><span class="n">MD</span>             
<span class="n">n_model_calls_expected</span><span class="o">=</span><span class="mi">3</span>      
<span class="n">n_atom_steps</span><span class="o">=</span><span class="mi">5</span>                
<span class="c1"># length of atomic trajectory in each step</span>
<span class="n">atom_traj_len</span><span class="o">=</span><span class="mi">5</span>               
<span class="c1"># number of cell volume steps</span>
<span class="n">n_cell_volume_steps</span><span class="o">=</span><span class="mi">0</span>         
<span class="c1"># number of cell shear steps</span>
<span class="n">n_cell_shear_steps</span><span class="o">=</span><span class="mi">0</span>          
<span class="c1"># number of cell strectch steps</span>
<span class="n">n_cell_stretch_steps</span><span class="o">=</span><span class="mi">0</span>        

<span class="c1"># param file to store potential parameters</span>
<span class="n">QUIP_pot_params_file</span><span class="o">=</span><span class="n">quip_params</span><span class="o">.</span><span class="n">cluster</span><span class="o">.</span><span class="n">xml</span> 
<span class="c1"># Lennard-Jones potential</span>
<span class="n">QUIP_pot_args</span><span class="o">=</span><span class="n">IP</span> <span class="n">LJ</span>           

<span class="c1"># use QUIP</span>
<span class="n">energy_calculator</span><span class="o">=</span><span class="n">quip</span>        

<span class="n">rng</span><span class="o">=</span><span class="n">numpy</span>

<span class="c1"># verbosity level</span>
<span class="n">debug</span><span class="o">=</span><span class="mi">0</span>                       
</pre></div>
</div>
<p>The corresponding <code class="docutils literal notranslate"><span class="pre">quip_params.cluster.xml</span></code> file is the following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&lt;LJ_params n_types=&quot;1&quot; label=&quot;default&quot;&gt;
&lt;!-- dummy paramters for testing purposes, no physical meaning --&gt;
&lt;per_type_data type=&quot;1&quot; atomic_num=&quot;1&quot; /&gt;
&lt;per_pair_data type1=&quot;1&quot; type2=&quot;1&quot; sigma=&quot;1.0&quot; eps6=&quot;1.0&quot; eps12=&quot;1.0&quot; cutoff=&quot;3.0&quot; energy_shift=&quot;T&quot; linear_force_shift=&quot;F&quot; /&gt;
&lt;/LJ_params&gt;
</pre></div>
</div>
</section>
<section id="periodic-lj-with-lammps-using-md">
<h3>Periodic LJ with <code class="docutils literal notranslate"><span class="pre">LAMMPS</span></code>, using MD<a class="headerlink" href="#periodic-lj-with-lammps-using-md" title="Permalink to this heading">¶</a></h3>
<p>This input file will start a calculation of 64 Lennard-Jones atoms
in a cell with variable shape and size at the set pressure value, using the potential implemented in <code class="docutils literal notranslate"><span class="pre">LAMMPS</span></code>
and using MD trajectory for generating a new sample configuration.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># starting volume (in this example it is Angstrom^3)</span>
<span class="n">max_volume_per_atom</span><span class="o">=</span><span class="mf">1000000.0</span>

<span class="c1"># 64 atoms with atomic number 1, let mass default to 1.0</span>
<span class="n">start_species</span><span class="o">=</span><span class="mi">1</span> <span class="mi">64</span>
<span class="n">start_energy_ceiling_per_atom</span><span class="o">=</span><span class="mf">1.5</span>

<span class="c1"># size of live set</span>
<span class="n">n_walkers</span><span class="o">=</span><span class="mi">256</span>
<span class="c1"># at each iteration 1 walker is killed</span>
<span class="n">n_cull</span><span class="o">=</span><span class="mi">1</span>
<span class="c1"># total number of iterations will be n_iter_times_fraction_killed / (n_cull/n_walkers)</span>
<span class="n">n_iter_times_fraction_killed</span><span class="o">=</span><span class="mi">5000</span>
<span class="c1"># prefix of all the output files</span>
<span class="n">out_file_prefix</span><span class="o">=</span><span class="n">test</span><span class="o">.</span><span class="n">periodic</span><span class="o">.</span><span class="n">MD</span><span class="o">.</span><span class="n">lammps</span>


<span class="c1"># use MD generating a new walker</span>
<span class="n">atom_algorithm</span><span class="o">=</span><span class="n">MD</span>
<span class="n">n_model_calls_expected</span><span class="o">=</span><span class="mi">8</span>      
<span class="n">n_atom_steps</span><span class="o">=</span><span class="mi">5</span>                
<span class="c1"># length of atomic trajectory in each step</span>
<span class="n">atom_traj_len</span><span class="o">=</span><span class="mi">5</span>               
<span class="c1"># number of cell volume steps</span>
<span class="n">n_cell_volume_steps</span><span class="o">=</span><span class="mi">3</span>         
<span class="c1"># number of cell shear steps</span>
<span class="n">n_cell_shear_steps</span><span class="o">=</span><span class="mi">2</span>          
<span class="c1"># number of cell strectch steps</span>
<span class="n">n_cell_stretch_steps</span><span class="o">=</span><span class="mi">2</span>        

<span class="c1"># Pressure (in the units of the potential)                                      </span>
<span class="n">MC_cell_P</span><span class="o">=</span><span class="mf">2.37e-2</span>

<span class="c1"># allowed torsion for the cell, ratio of the min lattice height</span>
<span class="n">MC_cell_min_aspect_ratio</span><span class="o">=</span><span class="mf">0.9</span>

<span class="c1"># use LAMMPS</span>
<span class="n">energy_calculator</span><span class="o">=</span><span class="n">lammps</span>
<span class="c1"># name of the LAMMPS machine (the one that *YOUR* LAMMPS was built with)</span>
<span class="n">LAMMPS_name</span><span class="o">=</span><span class="n">mpi</span>
<span class="c1"># potential parameters</span>
<span class="n">LAMMPS_init_cmds</span><span class="o">=</span><span class="n">pair_style</span> <span class="n">lj</span><span class="o">/</span><span class="n">cut</span> <span class="mf">9.00</span><span class="p">;</span> <span class="n">pair_coeff</span> <span class="o">*</span> <span class="o">*</span> <span class="mf">0.1</span> <span class="mf">3.0</span><span class="p">;</span> <span class="n">pair_modify</span> <span class="n">shift</span> <span class="n">yes</span>
<span class="n">LAMMPS_atom_types</span><span class="o">=</span><span class="n">H</span> <span class="mi">1</span>

<span class="n">rng</span><span class="o">=</span><span class="n">numpy</span>

<span class="c1"># verbosity level</span>
<span class="n">debug</span><span class="o">=</span><span class="mi">0</span>
</pre></div>
</div>
</section>
<section id="periodic-binary-lj-with-the-supplied-fortran-code-or-lammps-using-md">
<h3>Periodic binary LJ with the supplied fortran code or <code class="docutils literal notranslate"><span class="pre">LAMMPS</span></code>, using MD<a class="headerlink" href="#periodic-binary-lj-with-the-supplied-fortran-code-or-lammps-using-md" title="Permalink to this heading">¶</a></h3>
<p>This input file will start a calculation of a binary Lennard-Jones system, with 32 A-type atoms and 32 B-type atoms.
Note that in case of multicomponent systems swap moves have to be introduced, when the coordinates of different atomic types are swapped.
The cell is of variable shape and size at the set pressure value.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># starting volume, in A^3</span>
<span class="n">max_volume_per_atom</span><span class="o">=</span><span class="mf">2000.0</span>

<span class="c1"># 64 atoms total, 32 of each type</span>
<span class="c1"># masses will default to 1.0, which is efficient and correct</span>
<span class="n">start_species</span><span class="o">=</span><span class="mi">1</span> <span class="mi">32</span><span class="p">,</span> <span class="mi">2</span> <span class="mi">32</span>

<span class="c1"># prevent atoms completely on top of each other</span>
<span class="n">start_energy_ceiling_per_atom</span><span class="o">=</span><span class="mf">1.5</span>

<span class="n">n_walkers</span><span class="o">=</span><span class="mi">9216</span>
<span class="n">n_cull</span><span class="o">=</span><span class="mi">1</span>

<span class="c1"># total number of iters will be 1500/(1/9216) = 1500*9216</span>
<span class="n">n_iter_times_fraction_killed</span><span class="o">=</span><span class="mi">1500</span>
<span class="c1"># could also stop iteration when convergence is assured for T &gt; some cutoff</span>
<span class="c1"># converge_down_to_T=200</span>
<span class="c1"># or could stop convergence once energy is low enough</span>
<span class="c1"># min_Emax=-61.0</span>

<span class="n">out_file_prefix</span><span class="o">=</span><span class="n">test</span><span class="o">.</span><span class="n">periodic_binary</span><span class="o">.</span><span class="n">MD</span><span class="o">.</span><span class="n">FORTRAN_LJ</span>

<span class="c1">################################################################################</span>

<span class="n">atom_algorithm</span><span class="o">=</span><span class="n">MD</span>

<span class="n">n_model_calls_expected</span><span class="o">=</span><span class="mi">512</span>

<span class="n">n_atom_steps</span><span class="o">=</span><span class="mi">1</span>
<span class="n">atom_traj_len</span><span class="o">=</span><span class="mi">8</span>
<span class="n">n_cell_volume_steps</span><span class="o">=</span><span class="mi">32</span>
<span class="n">n_cell_shear_steps</span><span class="o">=</span><span class="mi">8</span>
<span class="n">n_cell_stretch_steps</span><span class="o">=</span><span class="mi">8</span>
<span class="n">n_swap_steps</span><span class="o">=</span><span class="mi">8</span>

<span class="c1">################################################################################</span>
<span class="c1"># pressure in units of the potential (eV/A^3), this is 0.1 GPa</span>
<span class="n">MC_cell_P</span><span class="o">=</span><span class="mf">6.25e-4</span>

<span class="c1"># default MD time steps and adjustment rates should be correct</span>

<span class="c1"># default cell steps should be correct</span>

<span class="n">MC_cell_min_aspect_ratio</span><span class="o">=</span><span class="mf">0.85</span>
<span class="c1">################################################################################</span>

<span class="c1"># binary LJ from hardcoded FORTRAN</span>
<span class="n">FORTRAN_model</span><span class="o">=</span><span class="n">example_LJ_model</span><span class="o">.</span><span class="n">so</span>
<span class="n">energy_calculator</span><span class="o">=</span><span class="n">fortran</span>

<span class="c1"># LAMMPS is another possibility</span>
<span class="c1"># energy_calculator=lammps</span>
<span class="c1"># name of the LAMMPS machine (i.e. the part of the library file that follows &#39;liblammps_&#39;, without the &#39;.so&#39; suffix)</span>
<span class="c1"># LAMMPS_name=mpi</span>
<span class="c1"># # potential parameters</span>
<span class="c1"># LAMMPS_init_cmds=pair_style lj/cut 9.00; pair_coeff 1 1 0.1 3.0; pair_coeff 1 2 0.2 3.0; pair_coeff 2 2 0.1 3.0; pair_modify shift yes</span>
<span class="c1"># conversion from atomic numbers (set in start_species) to types for LAMMPS</span>
<span class="c1"># LAMMPS_atom_types=H 1,He 2</span>

<span class="n">rng</span><span class="o">=</span><span class="n">numpy</span>

<span class="n">debug</span><span class="o">=</span><span class="mi">0</span>
</pre></div>
</div>
</section>
<section id="molecule-with-lammps-using-md">
<h3>Molecule with <code class="docutils literal notranslate"><span class="pre">LAMMPS</span></code>, using MD<a class="headerlink" href="#molecule-with-lammps-using-md" title="Permalink to this heading">¶</a></h3>
<p>Start a nested sampling simulation with a polymer in a cell with constant volume and shape. Initially the random placement of atoms has to be turned off,
and a configuration file has to be read. The initial walk is done with a heuristic choice for E_max.
The <code class="docutils literal notranslate"><span class="pre">atom_style</span> <span class="pre">full</span></code> used in this example is part of the MOLECULE package, you have to include that when compiling
<code class="docutils literal notranslate"><span class="pre">LAMMPS</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># starting volume (in this example it is Angstrom^3)</span>
<span class="n">max_volume_per_atom</span><span class="o">=</span><span class="mf">108.0</span>
<span class="c1"># read in the initial configuration of the polymer</span>
<span class="n">start_config_file</span><span class="o">=</span><span class="n">test_start_config_polymer</span><span class="o">.</span><span class="n">xyz</span>
<span class="n">start_energy_ceiling_per_atom</span><span class="o">=</span><span class="mf">0.17e9</span>

<span class="c1"># switch off initial random displacement</span>
<span class="n">random_initialise_pos</span><span class="o">=</span><span class="n">F</span>
<span class="n">random_initialise_cell</span><span class="o">=</span><span class="n">F</span>
<span class="n">initial_walk_N_walks</span><span class="o">=</span><span class="mi">20</span>
<span class="c1">#initial_walk_adjust_interval=10</span>
<span class="n">initial_walk_Emax_offset_per_atom</span><span class="o">=</span><span class="mf">1.0</span>


<span class="c1"># size of live set</span>
<span class="n">n_walkers</span><span class="o">=</span><span class="mi">128</span>
<span class="c1"># at each iteration 1 walker is killed (n_cull=1 is strongly recommended)</span>
<span class="n">n_cull</span><span class="o">=</span><span class="mi">1</span>
<span class="c1"># total number of iterations will be n_iter_times_fraction_killed / (n_cull/n_walkers)</span>
<span class="n">n_iter_times_fraction_killed</span><span class="o">=</span><span class="mi">100</span>
<span class="c1"># prefix of all the output files</span>
<span class="n">out_file_prefix</span><span class="o">=</span><span class="n">test</span><span class="o">.</span><span class="n">cluster</span><span class="o">.</span><span class="n">MD</span><span class="o">.</span><span class="n">lammps</span><span class="o">.</span><span class="n">polymer</span>

<span class="c1"># use MD generating a new walker</span>
<span class="n">atom_algorithm</span><span class="o">=</span><span class="n">MD</span>
<span class="n">n_model_calls_expected</span><span class="o">=</span><span class="mi">3</span>      
<span class="n">n_atom_steps</span><span class="o">=</span><span class="mi">5</span>                
<span class="c1"># length of atomic trajectory in each step</span>
<span class="n">atom_traj_len</span><span class="o">=</span><span class="mi">5</span>               
<span class="c1"># number of cell volume steps (zero as the cell should not change for the cluster)</span>
<span class="n">n_cell_volume_steps</span><span class="o">=</span><span class="mi">0</span>         
<span class="c1"># number of cell shear steps (zero as the cell should not change for the cluster)</span>
<span class="n">n_cell_shear_steps</span><span class="o">=</span><span class="mi">0</span>          
<span class="c1"># number of cell strectch steps (zero as the cell should not change for the cluster)</span>
<span class="n">n_cell_stretch_steps</span><span class="o">=</span><span class="mi">0</span>        


<span class="n">energy_calculator</span><span class="o">=</span><span class="n">lammps</span>
<span class="c1"># name of the LAMMPS machine (the one that *YOUR* LAMMPS was built with)</span>
<span class="n">LAMMPS_name</span><span class="o">=</span><span class="n">mpi</span>
<span class="c1"># potential parameters</span>
<span class="n">LAMMPS_init_cmds</span><span class="o">=</span><span class="n">pair_style</span> <span class="n">lj</span><span class="o">/</span><span class="n">cut</span> <span class="mf">1.50</span><span class="p">;</span> <span class="n">pair_coeff</span> <span class="o">*</span> <span class="o">*</span> <span class="mf">1.0</span> <span class="mf">1.0</span><span class="p">;</span> <span class="n">pair_modify</span> <span class="n">shift</span> <span class="n">yes</span><span class="p">;</span> <span class="n">bond_style</span> <span class="n">harmonic</span><span class="p">;</span> <span class="n">bond_coeff</span> <span class="mi">1</span> <span class="mf">30.0</span> <span class="mf">1.5</span><span class="p">;</span> <span class="n">special_bonds</span> <span class="n">lj</span> <span class="mf">0.0</span> <span class="mf">0.0</span> <span class="mf">1.0</span><span class="p">;</span> <span class="n">angle_style</span> <span class="n">harmonic</span><span class="p">;</span> <span class="n">angle_coeff</span> <span class="mi">1</span> <span class="mf">30.0</span> <span class="mf">180.0</span>
<span class="n">LAMMPS_header_extra</span><span class="o">=</span><span class="n">atom_style</span> <span class="n">full</span>
<span class="n">LAMMPS_atom_types</span><span class="o">=</span><span class="n">H</span> <span class="mi">1</span>

<span class="n">rng</span><span class="o">=</span><span class="n">numpy</span>

<span class="c1"># verbosity level</span>
<span class="n">debug</span><span class="o">=</span><span class="mi">5</span>
</pre></div>
</div>
<p>The corresponding <code class="docutils literal notranslate"><span class="pre">test_start_config_polymer.xyz</span></code> file is the following: (note that _ is an underscore not a -)</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">6</span>
<span class="n">Lattice</span><span class="o">=</span><span class="s2">&quot;10.0 0.0 0.0     0.0 10.0 0.0      0.0 0.0 10.0&quot;</span> <span class="n">Properties</span><span class="o">=</span><span class="n">species</span><span class="p">:</span><span class="n">S</span><span class="p">:</span><span class="mi">1</span><span class="p">:</span><span class="n">pos</span><span class="p">:</span><span class="n">R</span><span class="p">:</span><span class="mi">3</span><span class="p">:</span><span class="n">bonds</span><span class="p">:</span><span class="n">S</span><span class="p">:</span><span class="mi">1</span><span class="p">:</span><span class="n">angles</span><span class="p">:</span><span class="n">S</span><span class="p">:</span><span class="mi">1</span>
<span class="n">H</span> <span class="mf">0.0</span> <span class="mf">0.0</span> <span class="mf">0.0</span>   <span class="mi">1</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>   <span class="n">_</span>
<span class="n">H</span> <span class="mf">1.5</span> <span class="mf">0.1</span> <span class="mf">0.0</span>   <span class="mi">2</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>   <span class="mi">0</span><span class="o">-</span><span class="mi">2</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">H</span> <span class="mf">3.0</span> <span class="mf">0.0</span> <span class="mf">0.0</span>   <span class="n">_</span>      <span class="n">_</span>
<span class="n">H</span> <span class="mf">0.0</span> <span class="mf">0.0</span> <span class="mf">5.0</span>   <span class="mi">4</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>   <span class="n">_</span>
<span class="n">H</span> <span class="mf">1.5</span> <span class="mf">0.1</span> <span class="mf">5.0</span>   <span class="mi">5</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>   <span class="mi">3</span><span class="o">-</span><span class="mi">5</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">H</span> <span class="mf">3.0</span> <span class="mf">0.0</span> <span class="mf">5.0</span>   <span class="n">_</span>      <span class="n">_</span>
</pre></div>
</div>
<p>If multiple bonds or angles have to be defined per atom, use a comma to separate the entries without spaces, and if no entries are needed for an atom
still use a single underscore.</p>
</section>
</section>
<section id="some-tips-on-setting-the-input-parameters">
<h2>Some tips on setting the input parameters<a class="headerlink" href="#some-tips-on-setting-the-input-parameters" title="Permalink to this heading">¶</a></h2>
<section id="setting-the-random-walk-parameters">
<span id="rwp-section-reference"></span><h3>Setting the random walk parameters<a class="headerlink" href="#setting-the-random-walk-parameters" title="Permalink to this heading">¶</a></h3>
<p>When the walker configuration with the highest energy is chosen and replaced by a clone of
another randomly picked walker, this clone has to be perturbed in order to satisfy the criteria
that all walkers should be uniformly distributed in the available phase space. This perturbation
is done by performing a random walk, modifying the atomic coordinates and the lattice parameters
if applicable. This can be done by one of the following different methods: MC, MD or GMC,
set by the <code class="docutils literal notranslate"><span class="pre">atom_algorithm</span></code> keyword. Although infinitely long walks would be the best,
we can rarely wait that long, thus we have to determine a finite length we allow for the walk.
The length is determined by “step”, i.e. the number of model calls. One MD timestep, one lattice
modification, one atom type swap or one MC all-atom sweep is counted as a single model call.
The number of model calls a user wants to be performed on a walker between its birth (by cloning) and
discard (having the highest energy among all the walkers) is set by the <code class="docutils literal notranslate"><span class="pre">n_model_calls_expected</span></code>
keyword. If the sampling is run in parallel, the code performs approximately <code class="docutils literal notranslate"><span class="pre">n_model_calls_expected</span> <span class="pre">*</span> <span class="pre">n_cull</span> <span class="pre">/</span> <span class="pre">number_of_processors</span></code>
model calls on each processors at each iteration. This means that all walkers will perform
<code class="docutils literal notranslate"><span class="pre">n_model_calls_expected</span></code> steps on <em>average</em>.  Note that the code will continue to do
steps until it has done at least the requested number of calls, so this number may sometimes
be exceeded, e.g.  if the last step is a long one (e.g. an atomic trajectory with multiple steps).</p>
<p>Currently the following step types are allowed: changing atomic coordinates, changing the volume of the
cell, changing the shape of the cell by shear, changing the shape of the cell by stretch, and swapping
coordinates of different types of atoms. The ratio of these steps are determined by the keywords
<code class="docutils literal notranslate"><span class="pre">n_atom_steps</span></code>, <code class="docutils literal notranslate"><span class="pre">n_cell_volume_steps</span></code>, <code class="docutils literal notranslate"><span class="pre">n_cell_shear_steps</span></code>, <code class="docutils literal notranslate"><span class="pre">n_cell_stretch_steps</span></code> and <code class="docutils literal notranslate"><span class="pre">n_swap_steps</span></code>,
respectively. E.g. if the values for these keywords are set as 10, 4, 4, 4, 3, respectively, then the probability
of performing an atomic step will be 10/(10+4+4+4+3)=0.4, the probability of performing a volume change will be 0.16,…etc.
If any of these keywords is set to zero, the corresponding step type will never be performed.
It is important to consider that one <code class="docutils literal notranslate"><span class="pre">n_atom_steps</span></code> does not necessarily cover only one model call. To improve efficiency
several MD time steps or MC sweeps can be (and should be) performed consecutively, set by the parameter <code class="docutils literal notranslate"><span class="pre">atom_traj_len</span></code>.
If <code class="docutils literal notranslate"><span class="pre">atom_traj_len=8</span></code> and an atomic step is chosen, then 8 model calls will be performed out of the
total <code class="docutils literal notranslate"><span class="pre">n_model_calls_expected</span></code>.</p>
</section>
<section id="minimum-lattice-height-mc-cell-min-aspect-ratio">
<h3>Minimum lattice height: <code class="docutils literal notranslate"><span class="pre">MC_cell_min_aspect_ratio</span></code><a class="headerlink" href="#minimum-lattice-height-mc-cell-min-aspect-ratio" title="Permalink to this heading">¶</a></h3>
<p>The fully flexible cell is introduced to remove the finite size effect whereby
it may not be possible to arrange a fixed number of particles
in a fixed shape cell into certain crystal structures. In unfortunate cases this can exclude
thermodynamically relevant structures from the results of the calculation.
But for a flexible cell and for a finite number of particles, there exist simulation cells such that parallel
faces of the cell are separated by only a few layers of atoms, and those does not approximate the infinite fluid
in three dimensions. This problem can be solved by the introduction of a “minimum cell height” parameter.</p>
<p>The effect of the chosen minimum cell height is demonstrated in the case of the periodic system of
64 Lennard-Jonesium particles in the figure below. The legend on the right shows the value of
<code class="docutils literal notranslate"><span class="pre">MC_cell_min_aspect_ratio</span></code> used in each simulation. The peak at lower temperature corresponds to melting,
and the peak at higher temperature to evaporation. The location of
the evaporation transition is converged for <code class="docutils literal notranslate"><span class="pre">MC_cell_min_aspect_ratio</span></code> ≥ 0.35, but melting requires
a higher <code class="docutils literal notranslate"><span class="pre">MC_cell_min_aspect_ratio</span></code> ≥ 0.65.  At low values of <code class="docutils literal notranslate"><span class="pre">MC_cell_min_aspect_ratio</span></code> the
system’s behaviour is dominated by the fictitious periodicity imposed by the boundary
conditions.
(source: R. J. N. Baldock, <em>Classical Statistical Mechanics with Nested Sampling</em>, Ph.D. thesis, University of Cambridge (2014).)</p>
<figure class="align-center">
<a class="reference internal image-reference" href="_images/doc_figure_mlh.jpg"><img alt="_images/doc_figure_mlh.jpg" src="_images/doc_figure_mlh.jpg" style="width: 500px;" /></a>
</figure>
</section>
</section>
<section id="restart-a-run">
<h2>Restart a run<a class="headerlink" href="#restart-a-run" title="Permalink to this heading">¶</a></h2>
<p>If one needs to continue a run, i.e. perform more iteration cycles, the input file has to be modified with adding the following line</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">restart_file</span><span class="o">=</span><span class="n">my_output</span><span class="o">.</span><span class="n">snapshot</span><span class="o">.</span><span class="n">all</span><span class="o">.</span><span class="n">extxyz</span>
</pre></div>
</div>
<p>Include the keyword <code class="docutils literal notranslate"><span class="pre">restart_file</span></code>. This defines the name of the file
where all the walker configurations can be read from. This file should be produced by
concatenating the last saved snapshot files of all the processors. You might also need to increase the <code class="docutils literal notranslate"><span class="pre">n_iter_per_walker</span></code>
value if the run already reached the number of iterations set previously. (Note: you do not have to comment out the <code class="docutils literal notranslate"><span class="pre">start_species</span></code> option.)</p>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="index.html">Table of Contents</a></h3>
    <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Nested sampling method</a></li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation and quick start guide</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Getting started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#list-of-input-parameters">List of input parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="#example-input-files">Example input files</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#lj-cluster-with-the-supplied-fortran-code-using-mc">LJ Cluster with the supplied fortran code, using MC</a></li>
<li class="toctree-l3"><a class="reference internal" href="#lj-cluster-with-quip-using-md">LJ Cluster with <code class="docutils literal notranslate"><span class="pre">QUIP</span></code>, using MD</a></li>
<li class="toctree-l3"><a class="reference internal" href="#periodic-lj-with-lammps-using-md">Periodic LJ with <code class="docutils literal notranslate"><span class="pre">LAMMPS</span></code>, using MD</a></li>
<li class="toctree-l3"><a class="reference internal" href="#periodic-binary-lj-with-the-supplied-fortran-code-or-lammps-using-md">Periodic binary LJ with the supplied fortran code or <code class="docutils literal notranslate"><span class="pre">LAMMPS</span></code>, using MD</a></li>
<li class="toctree-l3"><a class="reference internal" href="#molecule-with-lammps-using-md">Molecule with <code class="docutils literal notranslate"><span class="pre">LAMMPS</span></code>, using MD</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#some-tips-on-setting-the-input-parameters">Some tips on setting the input parameters</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#setting-the-random-walk-parameters">Setting the random walk parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="#minimum-lattice-height-mc-cell-min-aspect-ratio">Minimum lattice height: <code class="docutils literal notranslate"><span class="pre">MC_cell_min_aspect_ratio</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#restart-a-run">Restart a run</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="ns_run.html"><cite>pymatnest</cite> module</a></li>
<li class="toctree-l1"><a class="reference internal" href="ns_rng.html"><cite>ns_rng</cite> module</a></li>
<li class="toctree-l1"><a class="reference internal" href="rngstream.html"><cite>rngstream</cite> module</a></li>
<li class="toctree-l1"><a class="reference internal" href="lammpslib.html"><cite>lammpslib</cite> module</a></li>
<li class="toctree-l1"><a class="reference internal" href="stacktrace.html"><cite>stacktrace</cite> module</a></li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="install.html"
                          title="previous chapter">Installation and quick start guide</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="tutorial.html"
                          title="next chapter">Tutorials</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/getstart.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="tutorial.html" title="Tutorials"
             >next</a> |</li>
        <li class="right" >
          <a href="install.html" title="Installation and quick start guide"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">ns_doc 1 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Getting started</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2015, livia.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 5.1.1.
    </div>
  </body>
</html>